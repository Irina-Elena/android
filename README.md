# android

Primele 4 laboratoare sunt implementate in aplicatia "MyApplication", iar laboratorul 5 in aplicatia "SettingsApp".

Pentru laboratorul 4 am creat un meniu folosind MenuInflater. In meniu am doua campuri "Settings", care imi intra intr-o noua activitate in care se face o setare de schimbare a temei, folosind SharedPreferences, si "Quit!", care imi inchide aplicatia.
Am creat si un buton "Send message" in MainActivity care, daca este apasat, ne trimite catre o alta acivitate, folosind Intent ce va afisa un mesaj intr-un TextView. Dar inainte de asta, un AlertDialog este afisat pentru a verifica daca chiar dorim sa facem aceasta actiune sau nu.

In aplicatia "SettingsApp", am refacut sharedPreferences din aplicatia "MyApplication", construind un SettingsActivity pentru activitatea de setari. In aceasta am un SwitchPreferenceCompat care imi indica daca textul va fi negru sau daca va fi colorat. Am folosit PreferenceManager.getDefaultSharedPreferences() pentru a prelua informatia din Switch, si astfel textul va fi colorat corespunzator setarilor.
Pentru a stoca intern, am scris intr-un fisier textul din EditText. MainActivity are un buton "login" ce ma trimite catre o alta activitate care afiseaza ceea ce am scris in fisier. Acest lucru l-am realizat cu ajutorul claselor FileOutputStream/FileInputStream.

Laboratorul 6 este implementat in aplicatia "SensorActivity". Pentru a accesa anumiti senzori am folosit un SensorManager. Am preluat informatiile de la senzorii accelerometer si gyroscope. Cu ajutorul functiei onSensorChanged() am preluat valorile x, y, z si le-am afisat pe ecran, iar de fiecare data cand telefonul se misca sau simulam miscarea pe emulator acele valori se vor schimba si vor aparea pe ecran. In functia onResume() am activat listenerul senzorilor prin functia registerListener(), iar in functia onPause() i-am dezactivat. Pentru partea de locatie m-am folosit de LocationManager. In AndroidManifest.xml am adaugat permisiunile ACCESS_COARSE_LOCATION si ACCESS_FINE_LOCATION pentru a cere aceste permisiuni utilizatorului. Cu ajutorul functiei checkSelfPermission verific daca am aceste permisiuni sau nu. In caz contrat, le cer utilizatorului printr-un pop-up. Daca userul are nevoie de o explicatie atunci functia shouldShowRequestPermissionRationale() va returna true, iar un AlertDialog va fi creat si afisat, cerand de asemenea permisiunile necesare. Daca userul ne permite sa utilizam locatia, atunci  functia requestLocationUpdates() se apeleaza, verificand locatia curenta. Functia onLocationChanged() ne permite sa afisam pe ecran longitudinea si latitudinea locatiei de fiecare data cand utilizatorul se misca.

Laboratorul 7 este implementat in aplicatia "CameraApp". MainActivity va contine un buton cu care utilizatorul face poza si un ImageView ce va afisa poza facuta. De fiecare data cand apas butonul se verifica daca am permisiune catre camera, dar si pentru a scrie in external storage, pentru a stoca poza, iar in caz contrat se cere prin functia requestPermissions(). Pentru a utiliza functia checkSelfPermission() trebuie sa verific versiunea sistemului de operare. Functia onRequestPermissionsResult() verifica rezultatul, iar daca am acces, atunci vreau sa stochez imaginea cu ajutorul unei referinte catre MediaStore, iar acest lucru se realizeaza cu getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values), unde values este o variabila de tip ContentValues. Acest imageUri il vom da ca un parametru extra la intentul ce deschide camera pentru a face poza, iar functia startActivityForResult(intent) porneste camera si se asteapta un rezultat, acesta fiind dat dupa ce se face poza, daca a acceptat sa salveze poza sau nu. Daca e afirmativ, atunci acest imageUri va fi contentul imageView-ului.
